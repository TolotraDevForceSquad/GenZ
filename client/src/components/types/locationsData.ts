export interface Location {
  name: string;
  latitude: number;
  longitude: number;
  district: string;
}

export const tananariveLocations: Location[] = [
  // ==================== ANTANANARIVO-I ====================
  { name: "67 ha Afivoany Andrefana", latitude: -18.915, longitude: 47.515, district: "Antananarivo-I" },
  { name: "67 ha Atsimo", latitude: -18.918, longitude: 47.517, district: "Antananarivo-I" },
  { name: "67 ha Avaratra Andrefana", latitude: -18.913, longitude: 47.515, district: "Antananarivo-I" },
  { name: "67 ha Avaratra Atsinanana", latitude: -18.913, longitude: 47.518, district: "Antananarivo-I" },
  { name: "Ambalavao Isotry", latitude: -18.918, longitude: 47.525, district: "Antananarivo-I" },
  { name: "Ambatomena Amboasarikely", latitude: -18.920, longitude: 47.530, district: "Antananarivo-I" },
  { name: "Ambatovinaky", latitude: -18.910, longitude: 47.530, district: "Antananarivo-I" },
  { name: "Ambohitsorohitra-Analakely", latitude: -18.9083, longitude: 47.5263, district: "Antananarivo-I" }, // Updated coords from OSM
  { name: "Ampandrana Ankadivato", latitude: -18.915, longitude: 47.528, district: "Antananarivo-I" },
  { name: "Amparibe - Ambohidahy - Mahamasina Nord", latitude: -18.9184, longitude: 47.5248, district: "Antananarivo-I" }, // Updated coords from OSM
  { name: "Anatihazo Isotry", latitude: -18.920, longitude: 47.522, district: "Antananarivo-I" },
  { name: "Andavamamba Anatihazo 1", latitude: -18.922, longitude: 47.525, district: "Antananarivo-I" },
  { name: "Andavamamba Anatihazo 2", latitude: -18.923, longitude: 47.525, district: "Antananarivo-I" },
  { name: "Andavamamba Anjezika 1", latitude: -18.922, longitude: 47.527, district: "Antananarivo-I" },
  { name: "Andavamamba Anjezika 2", latitude: -18.923, longitude: 47.527, district: "Antananarivo-I" },
  { name: "Andohatapenaka 1", latitude: -18.925, longitude: 47.525, district: "Antananarivo-I" },
  { name: "Andohatapenaka 2", latitude: -18.926, longitude: 47.525, district: "Antananarivo-I" },
  { name: "Andohatapenaka 3", latitude: -18.927, longitude: 47.525, district: "Antananarivo-I" },
  { name: "Andranomanalina 1", latitude: -18.918, longitude: 47.520, district: "Antananarivo-I" },
  { name: "Andranomanalina Afivoany", latitude: -18.917, longitude: 47.521, district: "Antananarivo-I" },
  { name: "Andranomanalina Isotry", latitude: -18.919, longitude: 47.521, district: "Antananarivo-I" },
  { name: "Ankasina", latitude: -18.905, longitude: 47.520, district: "Antananarivo-I" },
  { name: "Antanimalalaka Analakely", latitude: -18.910, longitude: 47.525, district: "Antananarivo-I" },
  { name: "Antetezana Afivoany I", latitude: -18.917, longitude: 47.528, district: "Antananarivo-I" },
  { name: "Antetezana Afivoany II", latitude: -18.916, longitude: 47.529, district: "Antananarivo-I" },
  { name: "Antohomadinika Afivoany", latitude: -18.920, longitude: 47.515, district: "Antananarivo-I" },
  { name: "Antohomadinika Atsimo", latitude: -18.922, longitude: 47.515, district: "Antananarivo-I" },
  { name: "Antohomadinika Avaratra", latitude: -18.918, longitude: 47.515, district: "Antananarivo-I" },
  { name: "Antohomadinika FAAMI", latitude: -18.921, longitude: 47.517, district: "Antananarivo-I" },
  { name: "Antohomadinika III G Hangar", latitude: -18.923, longitude: 47.517, district: "Antananarivo-I" },
  { name: "Avaratetezana Bekiraro", latitude: -18.915, longitude: 47.530, district: "Antananarivo-I" },
  { name: "Cité Ambodinisotry", latitude: -18.925, longitude: 47.530, district: "Antananarivo-I" },
  { name: "Cité Ampefiloha", latitude: -18.9132, longitude: 47.5171, district: "Antananarivo-I" }, // Updated coords from OSM
  { name: "Faravohitra Ambony", latitude: -18.902, longitude: 47.528, district: "Antananarivo-I" },
  { name: "Faravohitra Mandrosoa", latitude: -18.903, longitude: 47.527, district: "Antananarivo-I" },
  { name: "Isoraka-Ampatsakana-Ambalavao", latitude: -18.905, longitude: 47.527, district: "Antananarivo-I" },
  { name: "Isotry Atsinanana-Tsaralalana (FIATA)", latitude: -18.920, longitude: 47.528, district: "Antananarivo-I" },
  { name: "Lalamby sy ny manodidina", latitude: -18.910, longitude: 47.520, district: "Antananarivo-I" },
  { name: "Manarintsoa Afivoany", latitude: -18.925, longitude: 47.520, district: "Antananarivo-I" },
  { name: "Manarintsoa Anatihazo", latitude: -18.927, longitude: 47.520, district: "Antananarivo-I" },
  { name: "Manarintsoa Atsinanana", latitude: -18.925, longitude: 47.522, district: "Antananarivo-I" },
  { name: "Manarintsoa Isotry", latitude: -18.927, longitude: 47.522, district: "Antananarivo-I" },
  { name: "Soarano Ambondrona Ambodifilao", latitude: -18.912, longitude: 47.522, district: "Antananarivo-I" },
  { name: "Soarano Ambondrona Tsiazotafo", latitude: -18.913, longitude: 47.523, district: "Antananarivo-I" },

  // ==================== ANTANANARIVO-II ====================
  { name: "Ambanidia-Faliarivo", latitude: -18.890, longitude: 47.525, district: "Antananarivo-II" },
  { name: "Ambanidia-Miandrarivo", latitude: -18.892, longitude: 47.525, district: "Antananarivo-II" },
  { name: "Ambanidia-Volosarika", latitude: -18.888, longitude: 47.527, district: "Antananarivo-II" },
  { name: "Ambatoroka", latitude: -18.885, longitude: 47.520, district: "Antananarivo-II" },
  { name: "Ambohidraserika-Mahazoarivo", latitude: -18.880, longitude: 47.515, district: "Antananarivo-II" },
  { name: "Ambohimiandra-Fenomanana-Antsahakely-Ankadivato", latitude: -18.895, longitude: 47.535, district: "Antananarivo-II" },
  { name: "Ambohipo Cité-Ambohipo Tanàna-Ampahateza-Andohaniato", latitude: -18.900, longitude: 47.535, district: "Antananarivo-II" },
  { name: "Ambohipotsy-Ambohimitsimbina-Amparihy", latitude: -18.898, longitude: 47.525, district: "Antananarivo-II" },
  { name: "Ambohitsiroa VN", latitude: -18.882, longitude: 47.530, district: "Antananarivo-II" },
  { name: "Ambohitsoa-Ankazolava-Ivanja", latitude: -18.875, longitude: 47.540, district: "Antananarivo-II" },
  { name: "Ambolokandrina-Antsahamamy-Ankatso", latitude: -18.885, longitude: 47.535, district: "Antananarivo-II" },
  { name: "Ampamatanana-Androndrabe-Ambohibary", latitude: -18.878, longitude: 47.525, district: "Antananarivo-II" },
  { name: "Andafiavaratra-Ambavahadimitafo-Rats/va-A/py-Am/na", latitude: -18.888, longitude: 47.530, district: "Antananarivo-II" },
  { name: "Andohamandry", latitude: -18.895, longitude: 47.540, district: "Antananarivo-II" },
  { name: "Andohanimandroseza-Ambohibato-Antanambao", latitude: -18.870, longitude: 47.545, district: "Antananarivo-II" },
  { name: "Androndrakely-Saropody-Antonta", latitude: -18.885, longitude: 47.540, district: "Antananarivo-II" },
  { name: "Ankazotokana Ambony", latitude: -18.875, longitude: 47.535, district: "Antananarivo-II" },
  { name: "Antanimora-Ampasanimalo", latitude: -18.898, longitude: 47.515, district: "Antananarivo-II" },
  { name: "Antsahabe-Ankorahotra-Ankazotokana", latitude: -18.878, longitude: 47.535, district: "Antananarivo-II" },
  { name: "Manakambahiny-Ambatomaro-Ankerakely", latitude: -18.868, longitude: 47.540, district: "Antananarivo-II" },
  { name: "Mandroseza Afivoany-Mandroseza Atsinanana", latitude: -18.872, longitude: 47.545, district: "Antananarivo-II" },
  { name: "Manjakamiadana-Antsahondra-Ankadinandriana-Ambatom", latitude: -18.880, longitude: 47.540, district: "Antananarivo-II" },
  { name: "Morarano-Andrangaranga-Ambatolava", latitude: -18.865, longitude: 47.535, district: "Antananarivo-II" },
  { name: "Tsiadana", latitude: -18.890, longitude: 47.540, district: "Antananarivo-II" },

  // ==================== ANTANANARIVO-III ====================
  { name: "Ambatomitsangana", latitude: -18.905, longitude: 47.540, district: "Antananarivo-III" },
  { name: "Ambodivona-Ankadifotsy", latitude: -18.900, longitude: 47.545, district: "Antananarivo-III" },
  { name: "Ambohibary-Antanimena", latitude: -18.915, longitude: 47.545, district: "Antananarivo-III" },
  { name: "Ambohitrakely", latitude: -18.908, longitude: 47.550, district: "Antananarivo-III" },
  { name: "Ampahibe", latitude: -18.910, longitude: 47.540, district: "Antananarivo-III" },
  { name: "Ampandrana andrefana", latitude: -18.912, longitude: 47.535, district: "Antananarivo-III" },
  { name: "Ampandrana atsinanana", latitude: -18.912, longitude: 47.538, district: "Antananarivo-III" },
  { name: "Ampandrana-Besarety", latitude: -18.910, longitude: 47.537, district: "Antananarivo-III" },
  { name: "Andravoahangy andrefana", latitude: -18.895, longitude: 47.545, district: "Antananarivo-III" },
  { name: "Andravoahangy atsinanana", latitude: -18.895, longitude: 47.548, district: "Antananarivo-III" },
  { name: "Andravoahangy tsena", latitude: -18.897, longitude: 47.547, district: "Antananarivo-III" },
  { name: "Ankadifotsy Antanifotsy", latitude: -18.902, longitude: 47.548, district: "Antananarivo-III" },
  { name: "Ankaditapaka avaratra", latitude: -18.905, longitude: 47.545, district: "Antananarivo-III" },
  { name: "Ankadivato II L", latitude: -18.908, longitude: 47.540, district: "Antananarivo-III" },
  { name: "Ankazomanga Andraharo", latitude: -18.885, longitude: 47.550, district: "Antananarivo-III" },
  { name: "Ankorondrano andrefana", latitude: -18.879, longitude: 47.527, district: "Antananarivo-III" },
  { name: "Ankorondrano atsinanana", latitude: -18.879, longitude: 47.530, district: "Antananarivo-III" },
  { name: "Ankorondrano-Andranomahery", latitude: -18.877, longitude: 47.532, district: "Antananarivo-III" },
  { name: "Antanimena", latitude: -18.915, longitude: 47.545, district: "Antananarivo-III" },
  { name: "Antaninandro-Ampandrana", latitude: -18.915, longitude: 47.535, district: "Antananarivo-III" },
  { name: "Antsakaviro-Ambodirotra", latitude: -18.900, longitude: 47.550, district: "Antananarivo-III" },
  { name: "Avaradoha", latitude: -18.920, longitude: 47.540, district: "Antananarivo-III" },
  { name: "Befelatanana-Ankadifotsy", latitude: -18.898, longitude: 47.542, district: "Antananarivo-III" },
  { name: "Behoririka", latitude: -18.908, longitude: 47.535, district: "Antananarivo-III" },
  { name: "Behoririka-Ambatomitsangana", latitude: -18.907, longitude: 47.537, district: "Antananarivo-III" },
  { name: "Behoririka-Ankaditapaka", latitude: -18.906, longitude: 47.540, district: "Antananarivo-III" },
  { name: "Besarety", latitude: -18.912, longitude: 47.540, district: "Antananarivo-III" },
  { name: "Betongolo", latitude: -18.895, longitude: 47.540, district: "Antananarivo-III" },
  { name: "Mahavoky", latitude: -18.885, longitude: 47.545, district: "Antananarivo-III" },
  { name: "Mandialaza-Ambatomitsangana", latitude: -18.902, longitude: 47.542, district: "Antananarivo-III" },
  { name: "Mandialaza-Ambodivona", latitude: -18.900, longitude: 47.543, district: "Antananarivo-III" },
  { name: "Mandialaza-Ankadifotsy", latitude: -18.898, longitude: 47.545, district: "Antananarivo-III" },
  { name: "Soavinandriana", latitude: -18.918, longitude: 47.545, district: "Antananarivo-III" },
  { name: "Tsaramasay", latitude: -18.890, longitude: 47.548, district: "Antananarivo-III" },

  // ==================== ANTANANARIVO-IV ====================
  { name: "Ambaninampamarinana", latitude: -18.935, longitude: 47.525, district: "Antananarivo-IV" },
  { name: "Ampangabe Anjanakinifolo", latitude: -18.930, longitude: 47.530, district: "Antananarivo-IV" },
  { name: "Ampefiloha Ambodirano", latitude: -18.920, longitude: 47.510, district: "Antananarivo-IV" },
  { name: "Andavamamba Ambilanibe", latitude: -18.925, longitude: 47.515, district: "Antananarivo-IV" },
  { name: "Andrefan'Ambohijanahary III G, III M", latitude: -18.940, longitude: 47.515, district: "Antananarivo-IV" },
  { name: "Andrefan'Ankadimbahoaka", latitude: -18.928, longitude: 47.535, district: "Antananarivo-IV" },
  { name: "Andrefan'i Mananjara", latitude: -18.935, longitude: 47.540, district: "Antananarivo-IV" },
  { name: "Angarangarana", latitude: -18.922, longitude: 47.510, district: "Antananarivo-IV" },
  { name: "Ankadilalana", latitude: -18.925, longitude: 47.525, district: "Antananarivo-IV" },
  { name: "Ankaditoho-Marohoho", latitude: -18.930, longitude: 47.540, district: "Antananarivo-IV" },
  { name: "Ankazotoho-Anosimahavelona", latitude: -18.935, longitude: 47.535, district: "Antananarivo-IV" },
  { name: "Anosibe Ambohibarikely", latitude: -18.928, longitude: 47.520, district: "Antananarivo-IV" },
  { name: "Anosibe andrefana I", latitude: -18.930, longitude: 47.518, district: "Antananarivo-IV" },
  { name: "Anosibe andrefana II", latitude: -18.932, longitude: 47.518, district: "Antananarivo-IV" },
  { name: "Anosipatrana andrefana", latitude: -18.935, longitude: 47.520, district: "Antananarivo-IV" },
  { name: "Anosipatrana atsinanana", latitude: -18.935, longitude: 47.522, district: "Antananarivo-IV" },
  { name: "Anosizato est I", latitude: -18.945, longitude: 47.535, district: "Antananarivo-IV" },
  { name: "Anosizato est II", latitude: -18.947, longitude: 47.535, district: "Antananarivo-IV" },
  { name: "Fiadianana III L", latitude: -18.942, longitude: 47.525, district: "Antananarivo-IV" },
  { name: "Fiadianana III N", latitude: -18.943, longitude: 47.527, district: "Antananarivo-IV" },
  { name: "Ilanivato Ampasika", latitude: -18.940, longitude: 47.530, district: "Antananarivo-IV" },
  { name: "Ivolaniray", latitude: -18.925, longitude: 47.540, district: "Antananarivo-IV" },
  { name: "Mahamasina sud", latitude: -18.910, longitude: 47.532, district: "Antananarivo-IV" },
  { name: "Mananjara", latitude: -18.938, longitude: 47.540, district: "Antananarivo-IV" },
  { name: "Mandrangobato I", latitude: -18.940, longitude: 47.520, district: "Antananarivo-IV" },
  { name: "Mandrangobato II", latitude: -18.942, longitude: 47.520, district: "Antananarivo-IV" },
  { name: "Namontana Madera", latitude: -18.930, longitude: 47.525, district: "Antananarivo-IV" },
  { name: "Ouest Ambohijanahary III H, III O", latitude: -18.942, longitude: 47.517, district: "Antananarivo-IV" },
  { name: "Soanierana III I", latitude: -18.945, longitude: 47.525, district: "Antananarivo-IV" },
  { name: "Soanierana III J", latitude: -18.947, longitude: 47.525, district: "Antananarivo-IV" },
  { name: "Tsarafaritra", latitude: -18.920, longitude: 47.535, district: "Antananarivo-IV" },
  { name: "Tsimialonjafy", latitude: -18.928, longitude: 47.530, district: "Antananarivo-IV" },

  // ==================== ANTANANARIVO-V ====================
  { name: "Ambatobe", latitude: -18.870, longitude: 47.555, district: "Antananarivo-V" },
  { name: "Ambatokaranana", latitude: -18.865, longitude: 47.550, district: "Antananarivo-V" },
  { name: "Ambatomainty", latitude: -18.860, longitude: 47.555, district: "Antananarivo-V" },
  { name: "Ambatomaro Antsobolo", latitude: -18.855, longitude: 47.560, district: "Antananarivo-V" },
  { name: "Ambatomitsangana-Andrainalefy-Soamandrakizay", latitude: -18.858, longitude: 47.550, district: "Antananarivo-V" },
  { name: "Amboditsiry", latitude: -18.875, longitude: 47.548, district: "Antananarivo-V" },
  { name: "Ambodivoanjo-Ambohijatovo-Farango", latitude: -18.872, longitude: 47.552, district: "Antananarivo-V" },
  { name: "Ambohidahy", latitude: -18.905, longitude: 47.532, district: "Antananarivo-V" },
  { name: "Ambohimirary", latitude: -18.850, longitude: 47.565, district: "Antananarivo-V" },
  { name: "Amboniloha", latitude: -18.868, longitude: 47.558, district: "Antananarivo-V" },
  { name: "Ampanotokana", latitude: -18.862, longitude: 47.552, district: "Antananarivo-V" },
  { name: "Analamahitsy Cité", latitude: -18.848, longitude: 47.555, district: "Antananarivo-V" },
  { name: "Analamahitsy Tanàna", latitude: -18.845, longitude: 47.557, district: "Antananarivo-V" },
  { name: "Andraisoro", latitude: -18.880, longitude: 47.555, district: "Antananarivo-V" },
  { name: "Anjanahary II A", latitude: -18.855, longitude: 47.548, district: "Antananarivo-V" },
  { name: "Anjanahary II N", latitude: -18.857, longitude: 47.550, district: "Antananarivo-V" },
  { name: "Anjanahary II O", latitude: -18.858, longitude: 47.552, district: "Antananarivo-V" },
  { name: "Anjanahary II S", latitude: -18.856, longitude: 47.554, district: "Antananarivo-V" },
  { name: "Ankerana-Ankadindramamy", latitude: -18.845, longitude: 47.550, district: "Antananarivo-V" },
  { name: "Ivandry", latitude: -18.877, longitude: 47.532, district: "Antananarivo-V" },
  { name: "Manjakaray II B", latitude: -18.852, longitude: 47.545, district: "Antananarivo-V" },
  { name: "Manjakaray II C", latitude: -18.853, longitude: 47.547, district: "Antananarivo-V" },
  { name: "Manjakaray II D", latitude: -18.854, longitude: 47.549, district: "Antananarivo-V" },
  { name: "Morarano", latitude: -18.848, longitude: 47.560, district: "Antananarivo-V" },
  { name: "Nanisana Iadiambola", latitude: -18.840, longitude: 47.555, district: "Antananarivo-V" },
  { name: "Soavimasoandro", latitude: -18.835, longitude: 47.560, district: "Antananarivo-V" },
  { name: "Tsarahonenana", latitude: -18.838, longitude: 47.550, district: "Antananarivo-V" },

  // ==================== ANTANANARIVO-VI ====================
  { name: "Ambaravarankazo", latitude: -18.865, longitude: 47.495, district: "Antananarivo-VI" },
  { name: "Ambatolampy", latitude: -18.870, longitude: 47.505, district: "Antananarivo-VI" },
  { name: "Amboavahy", latitude: -18.875, longitude: 47.500, district: "Antananarivo-VI" },
  { name: "Ambodihady", latitude: -18.860, longitude: 47.510, district: "Antananarivo-VI" },
  { name: "Ambodimita", latitude: -18.855, longitude: 47.515, district: "Antananarivo-VI" },
  { name: "Ambodivona", latitude: -18.850, longitude: 47.520, district: "Antananarivo-VI" },
  { name: "Ambodivonkely", latitude: -18.848, longitude: 47.518, district: "Antananarivo-VI" },
  { name: "Ambohidroa", latitude: -18.845, longitude: 47.525, district: "Antananarivo-VI" },
  { name: "Ambohimanandray", latitude: -18.840, longitude: 47.530, district: "Antananarivo-VI" },
  { name: "Ambohimandroso", latitude: -18.835, longitude: 47.535, district: "Antananarivo-VI" },
  { name: "Ambohimiadana atsimo", latitude: -18.830, longitude: 47.540, district: "Antananarivo-VI" },
  { name: "Ambohimiadana avaratra", latitude: -18.828, longitude: 47.538, district: "Antananarivo-VI" },
  { name: "Ambohimitsinjo", latitude: -18.825, longitude: 47.545, district: "Antananarivo-VI" },
  { name: "Amorona", latitude: -18.820, longitude: 47.550, district: "Antananarivo-VI" },
  { name: "Ampandriambehivavy", latitude: -18.815, longitude: 47.555, district: "Antananarivo-VI" },
  { name: "Ampefiloha Ankeniheny", latitude: -18.880, longitude: 47.510, district: "Antananarivo-VI" },
  { name: "Andraharo", latitude: -18.875, longitude: 47.515, district: "Antananarivo-VI" },
  { name: "Andranomena", latitude: -18.870, longitude: 47.520, district: "Antananarivo-VI" },
  { name: "Anjanakomboro", latitude: -18.865, longitude: 47.525, district: "Antananarivo-VI" },
  { name: "Ankazomanga atsimo", latitude: -18.860, longitude: 47.530, district: "Antananarivo-VI" },
  // Ajout d'un lieu manquant exemple (basé sur des données OSM)
  { name: "Anosibe", latitude: -18.930, longitude: 47.520, district: "Antananarivo-IV" } // Exemple d'ajout pour un lieu manquant
];

// Fonction utilitaire pour rechercher des suggestions
export const searchLocations = (query: string, limit: number = 10): Location[] => {
  if (!query.trim()) return [];
  
  const lowerQuery = query.toLowerCase();
  return tananariveLocations
    .filter(location => 
      location.name.toLowerCase().includes(lowerQuery) ||
      location.district.toLowerCase().includes(lowerQuery)
    )
    .slice(0, limit);
};

// Fonction pour obtenir toutes les localisations d'un district
export const getLocationsByDistrict = (district: string): Location[] => {
  return tananariveLocations.filter(location => 
    location.district.toLowerCase() === district.toLowerCase()
  );
};

// Fonction pour obtenir tous les districts uniques
export const getAllDistricts = (): string[] => {
  return [...new Set(tananariveLocations.map(location => location.district))];
};

// Fonction pour trouver une localisation par nom exact
export const findLocationByName = (name: string): Location | undefined => {
  return tananariveLocations.find(location => 
    location.name.toLowerCase() === name.toLowerCase()
  );
};

// Fonction pour obtenir les localisations proches d'une coordonnée
export const getNearbyLocations = (lat: number, lng: number, radiusKm: number = 5): Location[] => {
  return tananariveLocations.filter(location => {
    const distance = calculateDistance(lat, lng, location.latitude, location.longitude);
    return distance <= radiusKm;
  });
};

// Fonction utilitaire pour calculer la distance entre deux points (formule de Haversine)
const calculateDistance = (lat1: number, lng1: number, lat2: number, lng2: number): number => {
  const R = 6371; // Rayon de la Terre en km
  const dLat = (lat2 - lat1) * Math.PI / 180;
  const dLng = (lng2 - lng1) * Math.PI / 180;
  const a = 
    Math.sin(dLat/2) * Math.sin(dLat/2) +
    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
    Math.sin(dLng/2) * Math.sin(dLng/2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  return R * c;
};